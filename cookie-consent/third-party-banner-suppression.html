<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cookie Consent (Third-Party API Suppression)</title>
  <link rel="stylesheet" href="../../styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;600&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Page Header -->
  <header class="site-header alt-header">
    <h1 class="site-title">Cookie Consent (Custom Implementation)</h1>
    <p class="site-subtitle">This page demonstrates conditional script loading using a third-party IP geolocation service.</p>
  </header>

  <!-- Global Navigation -->
  <div class="global-nav-placeholder"></div>

  <!-- Main Content -->
  <main class="module">
    <section class="hero">
      <h2>What This Implementation Does</h2>
      <p>This implementation uses a third-party IP lookup tool (demoed here with <strong>IP Info</strong>) to determine whether the Osano cookie script should load at all. If the user is not in a supported location, <strong>the Osano script is never added to the page</strong>.</p>
    </section>

    <section class="about">
      <h2>Implementation Details & Caveats</h2>
      <p>This setup allows full suppression of Osano's script based on the user's detected region â€” which means no banner will be loaded, displayed, or function at all unless the user is in an approved region.</p>

      <p><strong>Important notes:</strong></p>
      <ul style="text-align: left; max-width: 800px; margin: 0 auto;">
        <li>Osano <strong>does not recommend</strong> this method and cannot guarantee compliance when using a third-party tool.</li>
        <li>You are responsible for selecting, validating, and maintaining your own IP lookup service.</li>
        <li>This page uses <a href="https://ipinfo.io" target="_blank" rel="noopener">IP Info</a> for demonstration purposes only.</li>
      </ul>
    </section>

    <!-- Debug Display -->
    <section class="location-debug">
      <h2>Banner Visibility Debug Info</h2>
        <p>We have set the banner to be visible if you access the site from California, Connecticut, Colorado, Virginia, Utah, Oregon, Montana, Iowa, New Hampshire, Delaware, New Jersey, and Nebraska. The banner should be hidden for all other locations. The suppressed/visible locations are customizable.</p>
        <p><strong>Jurisdiction:</strong> <span id="region">Detecting...</span></p>
        <p><strong>Banner Visibility:</strong> <span id="banner-status">Checking...</span></p>
    </section>
  </main>

  <!-- Footer -->
  <div class="footer-placeholder"></div>

  <!-- Load Scripts -->
  <script src="../../scripts/global-nav.js"></script>
  <script src="https://jswanosano.github.io/scripts/cookie-consent/third-party-api-suppression.js"></script>
  <script src="../../scripts/include-footer.js"></script>
</body>
</html>
